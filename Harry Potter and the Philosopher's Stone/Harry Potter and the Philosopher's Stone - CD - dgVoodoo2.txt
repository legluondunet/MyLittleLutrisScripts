files:
- cd_arch: https://archive.org/download/Nova_HPatPS_EFG_World/Harry%20Potter%20and%20the%20Philosopher%27s%20Stone%20%28World%29%20%28En%2CFr%2CDe%29.7z
- cd_tools: https://github.com/legluondunet/mlls-tools/raw/refs/heads/master/cdrtools/cdrtools.zip
- wrapper: https://github.com/legluondunet/mlls-tools/raw/refs/heads/master/dgVoodoo2/dgVoodoo2_79_3.zip
- game_res: https://github.com/r57zone/Harry-Potter-Settings/releases/download/1.0.9/Harry.Potter.Settings.1.0.9.Portable.zip
- game_mod: https://github.com/legluondunet/MyLittleLutrisScripts/raw/refs/heads/master/Harry%20Potter%20and%20the%20Philosopher's%20Stone/hp_ps_wd_mod.7z
game:
  exe: drive_c/Program Files (x86)/EA Games/Harry Potter TM/System/HP.exe
  launch_configs:
  - exe: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System/Harry
      Potter Settings.exe
    name: Harry Potter resolution settings
  prefix: $GAMEDIR
installer:
- task:
    description: Preparing wineprefix...
    name: create_prefix
    prefix: $GAMEDIR
- extract:
    dst: $CACHE
    file: cd_arch
- extract:
    dst: $CACHE
    file: cd_tools
- execute:
    command: cd "$CACHE" ; ./bin2iso "Harry Potter and the Philosopher's Stone (World)
      (En,Fr,De).cue" ;
- extract:
    dst: $CACHE/CD
    file: $CACHE/Harry Potter and the Philosopher's Stone (World) (En,Fr,De)-01.iso
- task:
    description: Installing Harry Potter and the Philosopher's Stone, let all options
      to default and do not start the game at the end of install. When asking for
      a serial, enter 1501-1660150-7271499-1313
    executable: $CACHE/CD/AutoRun.exe
    name: wineexec
    prefix: $GAMEDIR
- write_config:
    data:
      D3DDrv.D3DRenderDevice:
        DetailTextures: true
        Use32BitTextures: true
        UsePrecache: false
      Engine.Engine:
        GameRenderDevice: D3DDrv.D3DRenderDevice
      FirstRun:
        FirstRun: 433
      Galaxy.GalaxyAudioSubsystem:
        AmbientFactor: 0.5
        MusicVolume: 70
        OutputRate: 44100Hz
      HPBase.baseConsole:
        bDebugMode: false
      UWindow.WindowConsole:
        ConsoleKey: 112
      WinDrv.WindowsClient:
        FullscreenColorBits: 32
        FullscreenViewportX: 1024
        FullscreenViewportY: 768
        MinDesiredFrameRate: 60.0
        StartupFullscreen: false
        WindowedViewportX: 1024
        WindowedViewportY: 768
    file: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System/Default.ini
    merge: true
- merge:
    dst: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System/backup
    src: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System/HP.exe
- merge:
    dst: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System/backup
    src: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System/HPMenu.u
- merge:
    dst: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System/backup
    src: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System/HPBase.u
- extract:
    dst: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System
    src: game_mod
- extract:
    dst: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System
    src: game_res
- extract:
    dst: $CACHE
    file: wrapper
- merge:
    dst: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System
    src: $CACHE/MS/x86/DDraw.dll
- merge:
    dst: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System
    src: $CACHE/MS/x86/D3DImm.dll
- write_config:
    data:
      DirectX:
        dgVoodooWatermark: false
      GeneralExt:
        FPSLimit: 60
    file: $GAMEDIR/drive_c/Program Files (x86)/EA Games/Harry Potter TM/System/dgVoodoo.conf
wine:
  overrides:
    ddraw: native, builtin
