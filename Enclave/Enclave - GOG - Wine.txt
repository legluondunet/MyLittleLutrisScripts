custom-name: Enclave - GOG
files:
- dxwnd: https://freefr.dl.sourceforge.net/project/dxwnd/Latest%20build/v2_05_16_build.rar
- menu: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Enclave/ENCLAVE.BAT
- wpp: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Enclave/enclave.bmp
- gppr: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Enclave/gamepad%20profiles/enclave_gamepad_readme.html
- gppx360: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Enclave/gamepad%20profiles/enclave_x360.gamecontroller.amgp
- gppsc: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Enclave/gamepad%20profiles/enclave_steam.sccprofile
- inno: https://constexpr.org/innoextract/files/innoextract-1.8-linux.tar.xz
- gog: N/A:Please select the Enclave Windows setup exe file downloaded from GOG
game:
  arch: win64
  args: c:\\Enclave\\ENCLAVE.BAT
  exe: drive_c/windows/syswow64/wineconsole.exe
  prefix: $GAMEDIR
installer:
- task:
    arch: win64
    install_gecko: false
    install_mono: false
    name: create_prefix
    prefix: $GAMEDIR
- extract:
    dst: $CACHE/
    file: inno
- execute:
    args: --extract $gog --output-dir $CACHE
    file: $CACHE/innoextract
- merge:
    dst: $GAMEDIR/drive_c/Enclave/
    src: $CACHE/app
- copy:
    dst: $GAMEDIR/drive_c/Enclave/
    src: menu
- merge:
    dst: $GAMEDIR/drive_c/Enclave/gamepad profiles/
    src: gppr
- copy:
    dst: $GAMEDIR/drive_c/Enclave/gamepad profiles/
    src: gppx360
- copy:
    dst: $GAMEDIR/drive_c/Enclave/gamepad profiles/
    src: gppsc
- copy:
    dst: $GAMEDIR/drive_c/
    src: wpp
- extract:
    dst: $GAMEDIR/drive_c/dxwnd
    file: dxwnd
- write_config:
    data:
      target:
        cdvol0: 0
        codepage0: 0
        coord0: 3
        country0: 0
        dflag0: 0
        dflagb0: 0
        exepath: C:\Enclave\
        expert: 1
        fakec0: None
        faked0: None
        filterid0: 0
        flag0: 673185825
        flagg0: 1207959568
        flagh0: 22
        flagi0: 138444804
        flagj0: 4224
        flagk0: 65536
        flagl0: 1114112
        flagm0: 0
        flagn0: 17825796
        flago0: 0
        flagp0: 8192
        flagq0: 0
        icon0: 0000010001002020000001002000B410000016000000280000002000000040000000010020000300000080100000000000000000000000000000000000000000FF0000FF0000FF000000424242001C1C1C00292929001C1C1C0022222200222222002222220022222200222222001C1C1C0022222200222222001C1C1C001C1C1C00222222001C1C1C00292929002222220022222200222222001C1C1C001C1C1C001C1C1C001C1C1C00222222001C1C1C002929290022222200222222001C1C1C00222222001C1C1C004D4D4D0029292900393939002929290033333300424242003939390042424200424242004242420042424200393939003333330039393900424242006699990033669900292929003939390033333300333333003333330033333300393939004242420039393900393939003939390039393900393939003333330029292900555555002929290033333300393939003939390042424200424242003333330033333300333333004D4D4D0042424200393939003939390066999900669999006699990033333300393939003333330033333300333333003333330033333300333333003333330022222200333333002929290022222200292929001C1C1C0042424200222222003333330039393900393939002929290029292900333333003939390033333300424242004242420042424200424242006699990077777700777777003366990029292900333333004242420033333300333333003939390029292900292929003333330039393900393939003333330029292900222222006666660029292900292929002929290033333300333333002929290033333300333333003939390029292900292929002929290033666600669999002929290022222200666699002929290033333300424242003333330033333300393939003333330033333300333333003333330029292900333333003333330029292900555555002929290029292900333333002929290029292900222222002929290042424200424242003939390033333300292929006699990077777700333333002929290066999900669999001C1C1C003333330033666600424242004242420033333300292929001C1C1C00292929003333330033333300292929001C1C1C0042424200292929003333330029292900333333004242420066CCCC0066CCCC006699CC0066999900669999006699990066999900339999001C1C1C003939390042424200333333006699990066999900669999006699990066999900669999006699CC0099CCFF00336699001C1C1C0029292900393939003939390029292900555555002929290033333300393939003366990099CCFF0090A9AD0029292900222222002929290033333300292929003366660033333300669999003366660033666600339999004D4D4D006699CC002222220033333300333333001C1C1C00292929004D4D4D0066CCCC0033669900222222002929290033333300222222004242420022222200292929006699990066999900292929002222220022222200333333003333330033333300669999003366660029292900777777006699990033669900777777002222220077777700669999002222220033333300292929002222220022222200393939006699990033669900292929002929290022222200424242002222220033999900336666004242420022222200292929003939390029292900292929003366660066999900333333003333330033333300669999006699990029292900292929002222220033666600222222002222220033333300333333003939390029292900777777006699CC00424242002929290022222200424242003399990033669900333333002929290033333300393939003333330029292900222222006699990033666600292929003333330029292900333333004D4D4D00292929003333330022222200336666003399990022222200222222003939390039393900292929002222220066999900339999003333330022222200393939003399990066999900333333002929290022222200333333003333330033333300292929002929290066666600336666002222220066999900777777007777770033666600333333006666990033666600222222001C1C1C0033333300393939003333330029292900222222004D4D4D006699990042424200292929004D4D4D0066999900669999003939390042424200424242004242420039393900393939003366990033333300393939003366990055555500339999006699990066999900669999001C1C1C006699CC00292929002929290033669900424242003333330029292900292929001C1C1C004D4D4D0066999900424242001C1C1C005F5F5F006699CC006699CC002929290029292900393939004242420033333300292929007777770029292900424242003366660042424200393939003333330042424200333333003939390066CCCC00222222001C1C1C0066666600393939003333330039393900292929001C1C1C00424242006699CC0066669900292929005555550066CCCC0066CCFF002929290042424200292929003939390066666600424242006666990042424200669999006699990033333300424242003939390042424200292929002929290066CCCC006699CC0039393900292929003366660039393900333333003333330029292900393939006699CC003366660029292900393939006699CC00669999001C1C1C002222220042424200393939006699CC00669999003366660099FFFF0066CCCC004D4D4D002929290039393900393939004D4D4D0039393900222222001C1C1C0090A9AD0033999900669999006699990066999900292929001C1C1C00333333003333330033669900393939001C1C1C00393939003333330066999900424242002222220029292900669999006699CC00292929003939390033333300336666001C1C1C003939390033333300333333003333330033333300393939004D4D4D004D4D4D00333333004D4D4D003939390066999900393939001C1C1C00222222003366990033666600292929002222220077777700292929003366660099CCFF0066CCCC0022222200669999004242420029292900424242002929290066999900669999001C1C1C00393939004D4D4D0042424200393939004D4D4D0066999900666699001C1C1C002929290029292900336666006699990029292900424242006699990039393900222222001C1C1C00868686001C1C1C002929290066CCCC006699CC003366660033666600292929003333330033333300292929004242420099CCFF0033666600333333003939390042424200333333006699990066999900333333003333330029292900292929003333330066669900336666006699990090A9AD00424242003333330022222200969696001C1C1C001C1C1C00222222007777770099CCFF006699CC00336699001C1C1C004242420039393900333333003366660033999900777777003939390029292900669999006699990033333300336666004D4D4D003366660033666600669999006699990066CCCC004242420039393900393939003333330029292900868686002222220029292900222222003366660066999900333333006699CC0066CCCC00339999004D4D4D0033333300333333006699990033333300292929003333330033666600424242003333330042424200336666006699CC0042424200333333002929290066999900336666001C1C1C00292929003333330022222200666666002222220042424200777777006699990039393900222222004D4D4D006699CC002929290029292900424242003333330033333300669999003366990033999900336699002929290022222200222222002929290042424200393939001C1C1C00222222002222220066999900393939002929290039393900222222005F5F5F0033333300333333003366990033333300393939003333330066CCCC0099FFFF00222222002222220033333300333333006699990099CCCC00333333003366660066CCCC0066669900292929003333330029292900424242004D4D4D00292929003333330029292900669999006666990022222200333333001C1C1C006666660039393900669999003366990029292900292929001C1C1C0066999900336666004D4D4D0039393900333333004D4D4D006699CC0033333300669999003333330033333300669999004242420039393900333333003366660033666600336666003333330039393900393939006666990033666600222222002222220066666600222222006699990066CCCC0099CCFF0099CCCC0066CCCC0099FFFF006699CC00336666006699CC0066CCFF006699CC006699990029292900669999006699CC004D4D4D00669999006699CC00339999003366990066CCCC006699CC0033666600669999006699990066999900669999006666990033333300222222009696960022222200292929003333330039393900333333003333330099FFFF0066CCFF003333330039393900424242004242420039393900333333003939390039393900333333003333330039393900393939001C1C1C00555555006699990033333300292929001C1C1C002929290029292900333333002929290022222200777777002222220029292900292929002929290033333300222222004D4D4D0066CCCC00292929002222220039393900424242003939390033333300393939004242420039393900333333004242420042424200333333004D4D4D006699CC00333333002929290029292900292929003939390029292900292929001C1C1C00555555002222220039393900333333003333330039393900292929004242420099FFFF006699990033333300393939003939390042424200393939004242420042424200424242004D4D4D003333330033333300292929006699990066999900333333003333330033333300222222003939390033333300292929001C1C1C004D4D4D00393939004242420033333300333333003333330033333300333333005555550066CCCC003366990039393900393939003939390033333300393939003939390039393900393939002929290029292900339999006699CC003939390029292900424242003939390033333300333333003333330033333300333333005555550039393900393939002929290039393900333333003939390042424200393939004D4D4D0066CCCC006699CC002929290039393900424242003939390033333300333333001C1C1C0033666600339999006699CC003939390022222200292929002929290033333300292929003333330033333300222222001C1C1C005555550022222200222222002929290039393900292929001C1C1C003939390039393900222222002929290099CCCC0099CCFF0033666600336666003366660033333300336666003366990066CCCC0033666600222222001C1C1C0029292900292929002929290033333300333333003333330029292900333333002929290096969600777777007777770066666600868686005555550066666600868686005F5F5F00292929005F5F5F00424242006699990099FFFF0099FFFF0099FFFF0099CCCC0099FFFF0099FFFF00777777004242420042424200424242004D4D4D005F5F5F00777777003333330039393900666666004D4D4D0039393900424242000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
        initresh0: 600
        initresw0: 800
        initts0: 0
        initx0: 0
        inity0: 0
        lang0: 0
        launchpath0: C:\Enclave\Enclave.exe
        maxddinterface0: 7
        maxfps0: 0
        maxres0: -1
        maxx0: 0
        maxy0: 0
        minx0: 0
        miny0: 0
        monitorid0: -1
        path0: C:\Enclave\Enclave.exe
        posx0: 50
        posy0: 50
        renderer0: 3
        scanline0: 0
        sizx0: 800
        sizy0: 600
        slowratio0: 2
        startfolder0: C:\Enclave\
        swapeffect0: 0
        tflag0: 0
        title0: Enclave
        ver0: 0
        winver0: 0
    file: $GAMEDIR/drive_c/dxwnd/dxwnd.ini
- task:
    arch: win64
    key: wallpaper
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Desktop\
    prefix: $GAMEDIR
    type: REG_SZ
    value: c:\\enclave.bmp
- task:
    arch: win64
    key: background
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Colors\
    prefix: $GAMEDIR
    type: REG_SZ
    value: 0 0 0
- task:
    arch: win64
    key: ActiveTitle
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Colors\
    prefix: $GAMEDIR
    type: REG_SZ
    value: 0 0 0
- task:
    arch: win64
    key: GradientActiveTitle
    name: set_regedit
    path: HKEY_CURRENT_USER\Control Panel\Colors\
    prefix: $GAMEDIR
    type: REG_SZ
    value: 88 85 44
- write_file:
    content: 'VID_RENDER=Direct3D8

      XR_SHADOWDECALTEXTURESIZE=2048

      VID_MODE=$RESOLUTION_WIDTH $RESOLUTION_HEIGHT 32 60

      CON_ENABLE=1

      '
    file: $GAMEDIR/drive_c/Enclave/environment.cfg
- write_file:
    content: 'SUBTITLES_OFF=1

      KB_INGAME_MENU=ESC

      '
    file: $GAMEDIR/drive_c/Enclave/options.cfg
- execute:
    command: cd "$GAMEDIR/drive_c/Enclave/"; mv __support/app/Sbz1/User.cfg Sbz1/;
      rm -f -r GL RenderSelector gog* webcache.zip __support;
wine:
  Desktop: true

