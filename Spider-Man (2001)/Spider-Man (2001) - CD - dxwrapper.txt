files:
- wrapper: https://github.com/elishacloud/dxwrapper/releases/download/v1.5.8100.25/dxwrapper.zip
- game_patch: https://github.com/legluondunet/MyLittleLutrisScripts/raw/refs/heads/master/Spider-Man%20(2001)/spider-man_2001_patch.zip
- game_cd: https://archive.org/download/spider-man_20201224/Spider-Man.iso
game:
  exe: drive_c/Program Files (x86)/Activision/Spider-Man/SpideyPC.exe
  prefix: $GAMEDIR
installer:
- task:
    name: create_prefix
    prefix: $GAMEDIR
- extract:
    dst: $CACHE
    format: iso
    src: game_cd
- task:
    description: Installing Spider-Man (2000), during install let all options to default.
    executable: $CACHE/Autorun.exe
    name: wineexec
- merge:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Activision/Spider-Man
    src: $CACHE/Setup/media.pkr
- move:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Activision/Spider-Man/SpideyPC.bak
    src: $GAMEDIR/drive_c/Program Files (x86)/Activision/Spider-Man/SpideyPC.exe
- extract:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Activision/Spider-Man
    file: game_patch
- extract:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Activision/Spider-Man
    file: wrapper
- copy:
    dst: $GAMEDIR/drive_c/Program Files (x86)/Activision/Spider-Man
    src: $GAMEDIR/drive_c/Program Files (x86)/Activision/Spider-Man/Stub/ddraw.dll
- write_config:
    data:
      Compatibility:
        Dd7to9: 1
      d3d9:
        LimitPerFrameFPS: 29
    file: $GAMEDIR/drive_c/Program Files (x86)/Activision/Spider-Man/dxwrapper.ini
system:
  gamescope: true
  gamescope_force_grab_cursor: true
wine:
  overrides:
    ddraw: n,b
